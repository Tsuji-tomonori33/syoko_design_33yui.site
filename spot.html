<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title id="page-title">ã‚¹ãƒãƒƒãƒˆ | ç…å­å³¶ã‚¹ã‚¿ãƒ³ãƒ—ãƒ©ãƒªãƒ¼</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
</head>
<body class="spot-page">

<div class="spot-bg">
  <h1 id="spot-heading">ğŸ¾ ã‚¹ãƒãƒƒãƒˆæƒ…å ± </h1>
  <img id="spot-image" src="" alt="ã‚¹ãƒãƒƒãƒˆå†™çœŸ">
  <p id="spot-description">ã‚¹ãƒãƒƒãƒˆã®ç´¹ä»‹æ–‡ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</p>
</div>

<div class="stamp-button">
  <button id="get-stamp">ğŸ¯ ã‚¹ã‚¿ãƒ³ãƒ—ã‚’æŠ¼ã™ï¼</button>
</div>

<p id="message" style="display:none;">
  âœ… ã‚¹ã‚¿ãƒ³ãƒ—ã‚’ç²å¾—ã—ã¾ã—ãŸï¼
</p>

<div class="back-home">
  <a href="index.html">ğŸ  ã‚¹ã‚¿ãƒ³ãƒ—å¸³ã¸æˆ»ã‚‹</a>
</div>

<script>
// --- ã‚¹ãƒãƒƒãƒˆæƒ…å ±ã®è¨­å®šï¼ˆé«˜æ ¡ç”ŸãŒç·¨é›†ã™ã‚‹ã®ã¯ã“ã“ã ã‘ï¼ï¼‰ ---
// ã‚¹ãƒãƒƒãƒˆIDã¨å¯¾å¿œã™ã‚‹æƒ…å ±ã‚’å®šç¾©
const spotData = {
    1: {
        img: "images/backgrounds/spot1.png", // å®Ÿéš›ã«ã¯images/backgrounds/spot1.jpgãªã©ã®ãƒ‘ã‚¹ã«å¤‰æ›´
    },
    2: {
        img: "images/backgrounds/spot2.png",
    },
    3: {
        img: "images/backgrounds/spot3.png",
    },
    4: {
        img: "images/backgrounds/spot4.png",
    },
    5: {
        img: "images/backgrounds/spot5.png",
    }
};
// -----------------------------------------------------

const button = document.getElementById("get-stamp");
const message = document.getElementById("message");

// URLã‹ã‚‰ã‚¹ãƒãƒƒãƒˆIDã‚’å–å¾—
const urlParams = new URLSearchParams(window.location.search);
const spotId = urlParams.get('id');
const stampKey = `stamp${spotId}`;

if (spotId && spotData[spotId]) {
    const data = spotData[spotId];
    
    // ãƒšãƒ¼ã‚¸ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’æ›´æ–°
    document.getElementById("page-title").textContent = `${data.title} | ç…å­å³¶ã‚¹ã‚¿ãƒ³ãƒ—ãƒ©ãƒªãƒ¼`;
    document.getElementById("spot-heading").textContent = data.title;
    document.getElementById("spot-image").src = data.img;
    document.getElementById("spot-image").alt = data.title;
    document.getElementById("spot-description").textContent = data.desc;
    document.getElementById("message").innerHTML = `âœ… ã‚¹ã‚¿ãƒ³ãƒ—${spotId}ã‚’ç²å¾—ã—ã¾ã—ãŸï¼`;

    // ã™ã§ã«æŠ¼ã—ã¦ã„ãŸå ´åˆ
    if (localStorage.getItem(stampKey) === "get") {
        message.style.display = "block";
        button.disabled = true;
    }

    // æŠ¼ã™ã¨ã‚¹ã‚¿ãƒ³ãƒ—ç²å¾—
    button.addEventListener("click", () => {
        localStorage.setItem(stampKey, "get");
        message.style.display = "block";
        button.disabled = true;
    });

} else {
    // ä¸æ­£ãªIDã®å ´åˆã®å‡¦ç†ï¼ˆä¾‹ï¼šã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤ºï¼‰
    document.getElementById("spot-heading").textContent = "ã‚¨ãƒ©ãƒ¼: ã‚¹ãƒãƒƒãƒˆãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“";
    document.getElementById("spot-description").textContent = "URLãŒæ­£ã—ã„ã‹ã”ç¢ºèªãã ã•ã„ã€‚";
    button.style.display = "none";
}
</script>
</body>
</html>
